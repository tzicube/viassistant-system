<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ViRecord Dashboard</title>
  <link rel="stylesheet" href="virecord.css" />
</head>

<body>
  <div class="app-layout">
    <div class="overlay" id="overlay"></div>

    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <button id="btnTapSite" class="tap-btn" title="Toggle Tap Site" aria-label="Toggle Tap Site">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="4" y1="6" x2="20" y2="6"></line><line x1="4" y1="12" x2="14" y2="12"></line><line x1="4" y1="18" x2="10" y2="18"></line></svg>
        </button>

        <div class="header-center">ViRecord</div>

        <img src="assets/logo.png" alt="avatar" class="header-avatar" />
      </div>

      <div class="sidebar-content">
        <!-- Backend Connection removed: using default internal backend URL -->

        <div class="config-box">
          <div class="label">Translation Mode</div>
          <!-- Source language dropdown -->
          <div class="lang-dropdown" id="srcDropdown">
            <button class="lang-select-btn" id="srcSelectBtn">
              <span id="srcFlag">ğŸ‡¹ğŸ‡¼</span>
              <span id="srcLabel">Chinese</span>
            </button>
            <div class="lang-options hidden" id="srcOptions">
              <div class="lang-option" data-lang="zh">ğŸ‡¹ğŸ‡¼ Chinese</div>
              <div class="lang-option" data-lang="vi">ğŸ‡»ğŸ‡³ Vietnamese</div>
              <div class="lang-option" data-lang="en">ğŸ‡ºğŸ‡¸ English</div>
            </div>
          </div>
          <div class="swap-btn" id="btnSwap">â‡…</div>
          <!-- Target language dropdown -->
          <div class="lang-dropdown" id="tgtDropdown">
            <button class="lang-select-btn" id="tgtSelectBtn">
              <span id="tgtFlag">ğŸ‡»ğŸ‡³</span>
              <span id="tgtLabel">Vietnamese</span>
            </button>
            <div class="lang-options hidden" id="tgtOptions">
              <div class="lang-option" data-lang="zh">ğŸ‡¹ğŸ‡¼ Chinese</div>
              <div class="lang-option" data-lang="vi">ğŸ‡»ğŸ‡³ Vietnamese</div>
              <div class="lang-option" data-lang="en">ğŸ‡ºğŸ‡¸ English</div>
            </div>
          </div>
        </div>

        <div style="flex:1; display:flex; flex-direction:column;">
          <div class="label">TOPIC</div>
          <div class="topic-list" id="topicList">
            <div style="color:#9ca3af; font-size:13px; padding:10px;">Loading history...</div>
          </div>
          <button class="new-topic-btn" id="btnNewTopic">New Topic</button>
        </div>
      </div>
    </aside>

    <main class="main-content">
      <header class="main-header">
        <div class="header-left">
          <div class="hamburger" id="btnMenu">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="3" y1="12" x2="21" y2="12"></line>
              <line x1="3" y1="6" x2="21" y2="6"></line>
              <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
          </div>
        </div>
        <div style="display:flex; align-items:center; gap:10px;">
          <b>ViRecord</b>
          <div class="logo"></div>
        </div>
      </header>

      <div class="workspace">
        <div class="translate-card card-source">
          <div class="card-header">
            <span style="font-size:20px;">ğŸ—£ï¸</span>
            <b id="srcTitle">None</b>
          </div>
          <div class="card-body"><p id="srcText">â€”</p></div>
        </div>

        <div class="translate-card card-target">
          <div class="card-header">
            <span style="font-size:20px;">æ–‡</span>
            <b id="tgtTitle">None</b>
          </div>
          <div class="card-body"><p id="tgtText">â€”</p></div>
        </div>
      </div>

      <footer class="footer-controls">
        <div class="status-barright">
          <div class="badge" id="topicBadge">Topic: None</div>
        </div>

        <button class="record-btn" id="btnRecord" title="Start/Stop">
          <svg viewBox="0 0 24 24"><path d="M12 14a3 3 0 0 0 3-3V6a3 3 0 0 0-6 0v5a3 3 0 0 0 3 3zm5-3a1 1 0 1 1 2 0 7 7 0 0 1-6 6.92V20h2a1 1 0 1 1 0 2H9a1 1 0 1 1 0-2h2v-2.08A7 7 0 0 1 5 11a1 1 0 1 1 2 0 5 5 0 0 0 10 0z"/></svg>
        </button>

        <div class="status-barleft">
          <div class="badge" id="statusBadge">Idle</div>
        </div>
      

      </footer>
    </main>
  </div>

  <!-- Custom modal for prompts/confirms (replaces native alert/confirm/prompt) -->
  <div id="modalRoot" class="custom-modal hidden" aria-hidden="true">
    <div class="custom-modal-backdrop" id="modalBackdrop"></div>
    <div class="custom-modal-dialog" role="dialog" aria-modal="true" aria-labelledby="modalTitle" aria-describedby="modalMessage">
      <div class="custom-modal-title" id="modalTitle">Confirm</div>
      <div class="custom-modal-message" id="modalMessage">Message</div>
      <input id="modalInput" class="custom-modal-input" type="text" />
      <div class="custom-modal-actions">
        <button id="modalCancel" class="modal-btn cancel">Cancel</button>
        <button id="modalConfirm" class="modal-btn confirm">OK</button>
      </div>
    </div>
  </div>
  <script src="virecord.js"></script>
</body>
</html>